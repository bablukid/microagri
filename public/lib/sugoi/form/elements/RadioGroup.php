<?php
/**
 * Generated by Haxe 4.0.0-rc.1+1fdd3d5
 */

namespace sugoi\form\elements;

use \php\_Boot\HxAnon;
use \php\Boot;
use \sugoi\form\FormElement;

class RadioGroup extends FormElement {
	/**
	 * @var \Array_hx
	 */
	public $data;
	/**
	 * @var bool
	 */
	public $labelLeft;
	/**
	 * @var bool
	 */
	public $labelRight;
	/**
	 * @var string
	 */
	public $selectMessage;
	/**
	 * @var bool
	 */
	public $vertical;

	/**
	 * @param string $name
	 * @param string $label
	 * @param \Array_hx $data
	 * @param string $selected
	 * @param string $defaultValue
	 * @param bool $vertical
	 * @param bool $labelRight
	 * @param bool $required
	 * 
	 * @return void
	 */
	public function __construct ($name, $label, $data = null, $selected = null, $defaultValue = null, $vertical = true, $labelRight = true, $required = false) {
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:14: lines 14-23
		if ($vertical === null) {
			$vertical = true;
		}
		if ($labelRight === null) {
			$labelRight = true;
		}
		if ($required === null) {
			$required = false;
		}
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:15: characters 3-10
		parent::__construct();
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:16: characters 3-19
		$this->name = $name;
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:17: characters 3-21
		$this->label = $label;
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:18: characters 3-39
		$this->data = ($data !== null ? $data : new \Array_hx());
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:19: characters 3-58
		$this->value = ($selected !== null ? $selected : $defaultValue);
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:20: characters 3-27
		$this->vertical = $vertical;
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:21: characters 3-31
		$this->labelRight = $labelRight;
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:22: characters 3-27
		$this->required = $required;
	}

	/**
	 * @param string $label
	 * @param string $value
	 * 
	 * @return void
	 */
	public function addOption ($label, $value) {
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:27: characters 3-44
		$_this = $this->data;
		$_this->arr[$_this->length] = new HxAnon([
			"label" => $label,
			"value" => $value,
		]);
		++$_this->length;
	}

	/**
	 * @param string $str
	 * 
	 * @return string
	 */
	public function getTypedValue ($str) {
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:56: characters 3-28
		if ($str === null) {
			#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:56: characters 17-28
			return null;
		}
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:57: characters 3-30
		$str = trim($str);
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:58: characters 10-41
		if ($str === "") {
			#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:58: characters 24-35
			return null;
		} else {
			#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:58: characters 38-41
			return $str;
		}
	}

	/**
	 * @return string
	 */
	public function render () {
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:32: characters 3-14
		$s = "";
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:33: characters 3-39
		$n = ($this->parentForm->name??'null') . "_" . ($this->name??'null');
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:35: characters 3-13
		$c = 0;
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:36: lines 36-50
		if ($this->data !== null) {
			#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:38: lines 38-49
			$_g = 0;
			$_g1 = $this->data;
			while ($_g < $_g1->length) {
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:38: characters 9-12
				$row = ($_g1->arr[$_g] ?? null);
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:38: lines 38-49
				++$_g;
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:40: characters 5-75
				$vClass = ($this->vertical ? " radioItemVertical" : " radioItemHorizontal");
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:41: characters 5-45
				$s = ($s??'null') . "<div class=\"radioItem" . ($vClass??'null') . "\">";
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:42: characters 5-159
				$radio = "<input type=\"radio\" name=\"" . ($n??'null') . "\" id=\"" . ($n??'null') . ($c??'null') . "\" value=\"" . ($row->value??'null') . "\" " . ((($row->value === \Std::string($this->value) ? "checked" : ""))??'null') . " />\x0A";
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:43: characters 5-73
				$label = "<label for=\"" . ($n??'null') . ($c??'null') . "\" >" . ($row->label??'null') . "</label>";
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:45: characters 5-65
				$s = ($s??'null') . (($this->labelRight ? ($radio??'null') . " " . ($label??'null') . " " : ($label??'null') . " " . ($radio??'null') . " ")??'null');
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:46: characters 5-18
				$s = ($s??'null') . "</div>";
				#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:48: characters 5-8
				++$c;
			}
		}
		#/home/bubar/projects/sugoi/src/sugoi/form/elements/RadioGroup.hx:52: characters 3-11
		return $s;
	}
}

Boot::registerClass(RadioGroup::class, 'sugoi.form.elements.RadioGroup');
